import"./game-core-DfzguZBN.js";const e=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");function t(t,n=e){return Array.from(t.querySelectorAll(n))}function n(n,o={}){const{initialFocus:i,restoreFocus:c=!0,focusableSelector:s=e}=o;let a=null,l=!1,r=[];const u=()=>{r=t(n,s)},d=e=>{if(l)if("Tab"===e.key){if(e.preventDefault(),0===r.length)return;const t=r.indexOf(document.activeElement);if(e.shiftKey){const e=t<=0?r.length-1:t-1;r[e]?.focus()}else{const e=t>=r.length-1?0:t+1;r[e]?.focus()}}else if("Escape"===e.key){const e=new CustomEvent("modal-escape",{detail:{container:n},bubbles:!0,cancelable:!0});n.dispatchEvent(e)}};return{activate:()=>{if(l)return;a=document.activeElement,u();const o=i||function(n,o=e){return t(n,o)[0]||null}(n,s);o&&o.focus(),document.addEventListener("keydown",d),l=!0},deactivate:()=>{l&&(document.removeEventListener("keydown",d),c&&a&&a.focus(),l=!1)},update:()=>{l&&u()}}}function o(e,t="polite"){const n=document.createElement("div");n.setAttribute("aria-live",t),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.style.cssText="\n    position: absolute;\n    left: -10000px;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n  ",n.textContent=e,document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n)},1e3)}export{o as a,n as c};
